{"version":3,"sources":["pages/App.module.css","locales lazy /^/.//.*/.ftl$/ groupOptions: {} namespace object","fluent/Localized.js","components/MultiButton.js","pages/Generator.js","pages/App.js","fluent/l10n.js","index.js","pages/Generator.module.css"],"names":["module","exports","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","Localized","props","elems","br","Fragment","children","MultiButton","ariaLabel","items","defaultValue","onChange","style","className","useState","choosen","setChoosen","useEffect","handleClick","useCallback","event","newValue","target","dataset","value","display","item","title","icon","onClick","pointerEvents","verticalAlign","trigger_download","name","data","a","document","createElement","body","appendChild","download","href","click","remove","qrcode_generator","stringToBytes","stringToBytesFuncs","colors","generate_qr_code","content","size","margin","errorCorrectionLevel","backgroundColor","foregroundColor","displayLogo","qrcode_svg","realCanvasSize","size_int","parseInt","margin_int","qr","addData","make","qr_pixel_count","getModuleCount","cellSize","Math","ceil","svg","createSvgTag","scalable","logo_size","logo_pos","replace","this_backgroundColor","this_foregroundColor","this_backgroundColor_logo","this_foregroundColor_logo","backgroundColor_hex","foregroundColor_hex","backgroundColor_logo_hex","foregroundColor_logo_hex","errorCorrectionLevels","split","errorCorrectionLevels_reversed","handleContentChangeTimeout","withLocalization","Inner","getString","conversion_canvas_ref","useRef","location_search","useLocation","search","substr","reduce","obj","val","pair","setSize","realSize","setRealSize","setErrorCorrectionLevel","c","setContent","qrcode","setQrcode","qrcodeWorks","setQrcodeWorks","setMargin","setBackgroundColor","setForegroundColor","setDisplayLogo","minDisplayLogo","length","minErrorCorrectionLevel","setMinErrorCorrectionLevel","real_minErrorCorrectionLevel","min","real_errorCorrectionLevel","handleContentChange","clearTimeout","setTimeout","backgroundColor_to_use","checkQrcode","min_error_correction_level","canvas","current","ctx","getContext","v","Canvg","fromString","resize","render","b64","toDataURL","QrScanner","scanImage","result","catch","error","handleDownload_jpeg","window","umami","track","round","handleDownload_png","foreground_colors","color","background_colors","options","slice","classes","qrcodeWrapper","qrcodeContentInput","placeholder","marginTop","qrCodeSvgWrapper","dangerouslySetInnerHTML","__html","btoa","downloadButton","ref","l10n","React","useContext","FluentContext","fluentByObject","object","fallback","globalSupportedLocales","supportedLocales","thisSupportedLocales","filter","locale","includes","currentLocales","negotiateLanguages","userLocales","defaultLocale","args","App","app","rel","locales","de","en","_supportedLocales_","_defaultLocale_","fetchMessages","path","fetch","default","response","text","messages","FluentResource","createMessagesGenerator","all","fetched","cur","assign","generateBundles","bundle","FluentBundle","addResource","f","AppLocalizationProvider","onLocaleChange","ReactLocalization","getDefaultBundles","bundles","setBundles","new_bundles","loadBundles","AppLanguageWrapper","navigator","languages","setUserLocales","currentLocale","setCurrentLocale","systemLocales","Array","isArray","language","toLowerCase","handleLanguageChange","handleCurrentLocalesChange","onLanguageChange","domains","frontend","backend","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f383e2cb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3hbGO\"};","var map = {\n\t\"./de.ftl\": [\n\t\t432,\n\t\t3\n\t],\n\t\"./en.ftl\": [\n\t\t433,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 430;\nmodule.exports = webpackAsyncContext;","import React from 'react'\nimport {\n  Localized as LocalizedOriginal,\n  // withLocalization,\n} from '@fluent/react'\nimport { negotiateLanguages } from '@fluent/langneg'\n\nimport { FluentContext } from '../../node_modules/@fluent/react/esm/context.js'\n\nconst Localized = props => (\n  <LocalizedOriginal\n    key={props.id}\n    {...props}\n    elems={{\n      br: <br />,\n      ...props.elems,\n    }}\n  >\n    <React.Fragment>{props.children}</React.Fragment>\n  </LocalizedOriginal>\n)\n\n// A custom withLocalization to have an empty fallback.\n// It is nearly identical to the original.\nfunction withLocalization(Inner) {\n  function WithLocalization(props) {\n    const l10n = React.useContext(FluentContext)\n\n    const getString = (id, args, fallback) => l10n.getString(id, args, fallback || ' ')\n\n    const fluentByObject = (object, fallback) => {\n      if (!(!!fallback)) {\n        fallback = null\n      }\n\n      if (!!object) {\n        const globalSupportedLocales = l10n.supportedLocales || []\n        const thisSupportedLocales = Object.keys(object).filter(locale => globalSupportedLocales.includes(locale))\n\n        const currentLocales = negotiateLanguages(\n          l10n.userLocales,\n          thisSupportedLocales,\n          { defaultLocale: l10n.defaultLocale }\n        )\n\n        for (const locale of currentLocales) {\n          if (!!object[locale]) {\n            return object[locale]\n          }\n        }\n\n        return fallback\n      }\n\n      return fallback\n    }\n\n    return React.createElement(Inner, { fluentByObject, getString, ...props })\n  }\n  return WithLocalization\n}\n\nexport {\n  withLocalization,\n  Localized,\n  Localized as default,\n}\n\n/*\n\nimport { Localized, withLocalization } from '../Localized/'\n\n<Localized id=\"translation_id\" />\nexport default withLocalization(componentName)\n\n\nimport Localized from '../Localized/'\n<Localized id=\"translation_id\" />\n\nimport { withLocalization } from '@fluent/react'\nexport default withLocalization(componentName)\n\n*/\n","import { useState, useCallback, useEffect } from 'react'\n\nfunction MultiButton({ ariaLabel, items, defaultValue, onChange, style, className }) {\n  const [choosen, setChoosen] = useState()\n\n  useEffect(() => setChoosen(defaultValue), [defaultValue, setChoosen])\n\n  const handleClick = useCallback(event => {\n    const newValue = event.target.dataset.value\n    setChoosen(newValue)\n    if (onChange) {\n      onChange(newValue)\n    }\n  }, [setChoosen, onChange])\n\n  return <div\n    aria-label={ariaLabel}\n    className={'buttonRow ' + (className || '')}\n    style={{\n      display: 'inline-block',\n      ...style\n    }}\n  >\n    {\n      items.map(item => {\n        const value = item.value\n        const title = item.title\n        const icon = item.icon || null\n        return <button\n          key={value}\n          className={`${choosen === value ? 'choosen' : ''} ${!!icon ? 'hasIcon' : ''}`}\n          onClick={handleClick}\n          data-value={value}\n        >\n          <span style={{pointerEvents: 'none'}}>\n            {!!icon ? icon : null}\n            <span style={{verticalAlign: 'middle'}}>{title}</span>\n          </span>\n        </button>\n      })\n    }\n  </div>\n}\n\nexport default MultiButton\n","import React, { useState, useCallback, useEffect, useRef } from 'react'\nimport classes from './Generator.module.css'\n\nimport { withLocalization, Localized } from '../fluent/Localized.js'\nimport MultiButton from '../components/MultiButton.js'\n\nimport qrcode_generator from 'qrcode-generator'\nimport Canvg from 'canvg'\n\nimport { useLocation } from 'react-router-dom'\n\nimport QrScanner from 'qr-scanner'\n\nqrcode_generator.stringToBytes = qrcode_generator.stringToBytesFuncs['UTF-8'] // make QR-Code understand UTF-8\n\nfunction trigger_download(name, data) {\n  const a = document.createElement('a')\n  document.body.appendChild(a)\n  // a.target = '_blank'\n  a.download = name\n  a.href = data\n  a.click()\n  a.remove()\n}\n\n// function getQrcodeBounds(svgText){\n//   const matches = [...svgText.matchAll(/<rect x=\"([0-9]+)\" y=\"([0-9]+)\" width=\"([0-9]+)\"/gm)]\n//\n//   const dot_size = Math.min(...matches.map(match => match[3]))\n//\n//   const x_all = matches.map(match => match[1])\n//   const x_min = Math.min(...x_all)\n//   const x_max = Math.max(...x_all) + dot_size - x_min\n//\n//   const y_all = matches.map(match => match[2])\n//   const y_min = Math.min(...y_all)\n//   const y_max = Math.max(...y_all) + dot_size - y_min\n//\n//   return { x_min, x_max, y_min, y_max, dot_size }\n// }\n\nconst colors = {\n  'black': '#000000',\n  'white': '#ffffff',\n  'purple': '#502379',\n  'yellow': '#FDC220',\n  'green': '#1BBE6F',\n  'blue': '#82D0F4',\n  'red': '#E63E12',\n  'transparent': 'transparent',\n}\n\nfunction generate_qr_code({ content, size, margin, errorCorrectionLevel, backgroundColor, foregroundColor, displayLogo }) {\n  if (displayLogo === 'yes') {\n    displayLogo = true\n  } else if (displayLogo === 'no') {\n    displayLogo = false\n  }\n\n  if (content === '') {\n    return {\n      qrcode_svg: null,\n      realCanvasSize: null,\n    }\n  } else {\n    // generate qr code\n    const size_int = parseInt(size)\n    const margin_int = parseInt(margin) || 0\n\n    const qr = qrcode_generator(0, errorCorrectionLevel)\n    qr.addData(content)\n    qr.make()\n\n    const qr_pixel_count = qr.getModuleCount()\n    const cellSize = Math.ceil(size_int / qr_pixel_count)\n\n    let svg = qr.createSvgTag({\n      cellSize: cellSize,\n      margin: cellSize * margin_int,\n      scalable: true,\n    })\n\n    const realCanvasSize = (\n      (qr_pixel_count * cellSize) // qrcode without margin\n      + (cellSize * (margin_int * 2)) // margin\n    )\n\n\n    // Volt Logo\n    if (displayLogo === true) {\n      const logo_size = size_int * 0.4 // cellSize * 7\n      const logo_pos = (\n        realCanvasSize\n        * 0.5 // middle of the image\n      )\n      - (logo_size * 0.5) // half logo, to position it at the center\n\n      svg = svg.replace('</svg>', `\n        <svg x=\"${logo_pos}\" y=\"${logo_pos}\" width=\"${logo_size}\" height=\"${logo_size}\" viewBox=\"0 0 2083 2083\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"2083\" height=\"2083\" rx=\"1041.5\" fill=\"logo_bg\"/>\n        <path d=\"M1653.47 1157.13V982.509H1782.78V865.558H1653.47V707.932L1512.84 730.219V1159.04C1512.84 1191.11 1515.78 1220.38 1521.81 1246.79C1527.77 1273.2 1538.29 1295.7 1553.44 1314.24C1568.52 1332.77 1588.67 1347.26 1613.83 1357.64C1638.98 1368.01 1670.76 1373.23 1709.15 1373.23C1739.38 1373.23 1764.83 1370.73 1785.57 1365.65C1806.32 1360.65 1825.22 1354.62 1842.21 1347.71L1822.35 1238.26C1809.11 1243.33 1794.55 1247.23 1778.44 1250.03C1762.41 1252.82 1746.81 1254.29 1731.73 1254.29C1700.25 1254.29 1679.36 1245.47 1668.99 1227.89C1658.62 1210.31 1653.47 1186.7 1653.47 1157.13Z\" fill=\"logo_fg\"/>\n        <path d=\"M642.687 1361.9C668.578 1307.25 694.175 1250.32 719.331 1191.18C744.486 1132.05 768.391 1073.57 791.046 1015.68C813.701 957.795 834.516 902.482 853.64 849.744C872.691 796.859 889.535 749.637 904.172 707.932H747.428C735.145 746.033 721.464 786.855 706.532 830.473C691.527 874.164 676.301 917.708 660.781 961.032C645.261 1004.43 630.183 1045.91 615.619 1085.63C601.055 1125.35 587.595 1159.55 575.311 1188.24C562.292 1159.33 548.611 1125.06 534.415 1085.34C520.146 1045.62 505.288 1004.06 489.768 960.737C474.248 917.414 458.949 873.87 443.944 830.252C428.939 786.561 415.331 745.812 403.121 707.932H240.787C254.689 749.416 271.165 796.638 290.289 849.523C309.413 902.409 330.303 957.722 353.104 1015.54C375.906 1073.35 399.958 1131.82 425.261 1190.89C450.564 1249.95 476.234 1306.96 502.272 1361.9H642.687Z\" fill=\"logo_fg\"/>\n        <path d=\"M1466.41 707.932L1325.78 730.219V1361.9H1466.41V707.932Z\" fill=\"logo_fg\"/>\n        <path d=\"M1286.51 1120.28C1286.51 979.568 1172.43 865.485 1031.72 865.485C973.684 865.485 920.211 884.904 877.402 917.488C865.486 949.337 852.982 981.995 839.816 1015.54C820.839 1063.93 801.053 1112.85 780.311 1162.13C800.391 1282.98 905.279 1375.07 1031.72 1375.07C1172.43 1375.07 1286.51 1260.99 1286.51 1120.28ZM1158.97 1120.28C1158.97 1189.93 1102.48 1246.42 1032.82 1246.42C963.166 1246.42 906.677 1189.93 906.677 1120.28C906.677 1050.62 963.166 994.132 1032.82 994.132C1102.48 994.132 1158.97 1050.62 1158.97 1120.28Z\" fill=\"logo_fg\"/>\n        </svg>\n      </svg>\n      `)\n    }\n\n    // Colors\n    let this_backgroundColor = backgroundColor\n    let this_foregroundColor = foregroundColor\n\n    if (\n      this_foregroundColor === this_backgroundColor\n    ) {\n      if (this_backgroundColor === 'white') {\n        this_foregroundColor = 'purple'\n      } else {\n        this_backgroundColor = 'white'\n      }\n    }\n\n    if (this_foregroundColor !== 'white' && this_backgroundColor !== 'transparent') {\n      this_backgroundColor = 'white'\n    }\n\n    let this_backgroundColor_logo = 'white'\n    let this_foregroundColor_logo = 'purple'\n\n    if (this_backgroundColor === 'purple' && this_foregroundColor === 'white') {\n      this_backgroundColor_logo = 'purple'\n      this_foregroundColor_logo = 'white'\n    }\n\n    let backgroundColor_hex = colors[this_backgroundColor] || 'white'\n    let foregroundColor_hex = colors[this_foregroundColor] || 'black'\n    let backgroundColor_logo_hex = colors[this_backgroundColor_logo] || 'white'\n    let foregroundColor_logo_hex = colors[this_foregroundColor_logo] || 'black'\n\n    svg = svg\n      .replace(/fill=\"black\"/g, `fill=\"${foregroundColor_hex}\"`)\n      .replace(/fill=\"white\"/g, `fill=\"${backgroundColor_hex}\"`)\n      .replace(/fill=\"logo_bg\"/g, `fill=\"${backgroundColor_logo_hex}\"`)\n      .replace(/fill=\"logo_fg\"/g, `fill=\"${foregroundColor_logo_hex}\"`)\n\n\n    // use the qrcode\n    return {\n      qrcode_svg: svg,\n      realCanvasSize,\n    }\n  }\n}\n\nconst errorCorrectionLevels = 'LMQH'.split('')\nconst errorCorrectionLevels_reversed = {\n  'L': 0,\n  'M': 1,\n  'Q': 2,\n  'H': 3,\n}\n\n\nvar handleContentChangeTimeout = null\n\nfunction Generator({ getString }) {\n  const conversion_canvas_ref = useRef(null)\n\n  const location = useLocation()\n  let location_search = location.search\n    .substr(1)\n    .split('&')\n    .reduce((obj, val) => {\n      const pair = val.split('=')\n      obj[pair[0]] = pair[1]\n      return obj\n    }, {})\n\n  const [size, setSize] = useState('1000')\n  const [realSize, setRealSize] = useState(null)\n\n  const [errorCorrectionLevel, setErrorCorrectionLevel] = useState('M')\n  const [content, setContent] = useState(location_search.c ||'')\n  const [qrcode, setQrcode] = useState(null)\n  const [qrcodeWorks, setQrcodeWorks] = useState(null)\n\n  const [margin, setMargin] = useState('1')\n\n  const [backgroundColor, setBackgroundColor] = useState('white')\n  const [foregroundColor, setForegroundColor] = useState('purple')\n  const [displayLogo, setDisplayLogo] = useState('yes')\n\n  const [minDisplayLogo /*, setMinDisplayLogo*/] = useState(true)\n  const [minErrorCorrectionLevel, setMinErrorCorrectionLevel] = useState(errorCorrectionLevels.length - 1)\n\n  const real_minErrorCorrectionLevel = Math.min(minErrorCorrectionLevel, errorCorrectionLevels.length - 1)\n  let real_errorCorrectionLevel = errorCorrectionLevels[errorCorrectionLevels.length - 1]\n  if (errorCorrectionLevels_reversed[errorCorrectionLevel] < real_minErrorCorrectionLevel) {\n    real_errorCorrectionLevel = errorCorrectionLevels[real_minErrorCorrectionLevel]\n  } else {\n    real_errorCorrectionLevel = errorCorrectionLevel\n  }\n\n  const handleContentChange = useCallback(event => {\n    clearTimeout(handleContentChangeTimeout)\n\n    const value = event.target.value\n    if (value.length <= 0 && value.length >= 1200) {  // 1273 is the maximum for an ECL of H. 2953 for L.\n      setContent('')\n    } else {\n      handleContentChangeTimeout = setTimeout(() => {\n        setContent(value)\n      }, 400)\n    }\n  }, [setContent])\n\n  useEffect(() => {\n    let backgroundColor_to_use = backgroundColor\n    if (backgroundColor_to_use === 'transparent') {\n      if (foregroundColor === 'white') {\n        backgroundColor_to_use = 'black'\n      } else {\n        backgroundColor_to_use = 'white'\n      }\n    }\n\n    async function checkQrcode(displayLogo, min_error_correction_level) {\n      const errorCorrectionLevel = errorCorrectionLevels[min_error_correction_level]\n      const { qrcode_svg, realCanvasSize } = generate_qr_code({\n        content,\n        size: 1000,\n        margin: 4,\n        errorCorrectionLevel,\n        backgroundColor: backgroundColor_to_use,\n        foregroundColor,\n        displayLogo,\n      })\n\n      if (qrcode_svg === null) {\n        setQrcodeWorks(false)\n      } else {\n        const canvas = conversion_canvas_ref.current\n        const ctx = canvas.getContext('2d')\n\n        const v = Canvg.fromString(ctx, qrcode_svg)\n        v.resize(realCanvasSize, realCanvasSize)\n        await v.render()\n\n        const b64 = canvas.toDataURL('image/jpeg')\n\n        QrScanner.scanImage(b64)\n          .then(result => {\n            setMinErrorCorrectionLevel(min_error_correction_level)\n            // setMinDisplayLogo(displayLogo)\n            setQrcodeWorks(true)\n          })\n          .catch(error => {\n            if (min_error_correction_level < errorCorrectionLevels.length - 1) {\n              checkQrcode(displayLogo, min_error_correction_level + 1)\n            // } else if (displayLogo === true) {\n            //   checkQrcode(false, min_error_correction_level)\n            } else {\n              setQrcodeWorks(false)\n            }\n          })\n      }\n    }\n\n    checkQrcode(displayLogo, 0)\n  }, [\n    content,\n    backgroundColor,\n    foregroundColor,\n    displayLogo,\n    conversion_canvas_ref,\n    setQrcodeWorks,\n    setMinErrorCorrectionLevel,\n    // setMinDisplayLogo,\n  ])\n\n  useEffect(() => {\n    const {\n      qrcode_svg,\n      realCanvasSize,\n    } = generate_qr_code({\n      content,\n      size,\n      margin,\n      errorCorrectionLevel: real_errorCorrectionLevel,\n      backgroundColor,\n      foregroundColor,\n      displayLogo: (minDisplayLogo === false ? false : displayLogo),\n    })\n\n    setRealSize(realCanvasSize)\n    setQrcode(qrcode_svg)\n  }, [\n    minDisplayLogo,\n    real_errorCorrectionLevel,\n    content,\n    size,\n    margin,\n    backgroundColor,\n    foregroundColor,\n    displayLogo,\n    setRealSize,\n    setQrcode,\n  ])\n\n  const handleDownload_svg = () => {\n    const b64 = 'data:image/svg+xml;base64,' + btoa(qrcode)\n    window.umami.track('E: svg')\n    window.umami.track('BG: ' + backgroundColor)\n    window.umami.track('FG: ' + foregroundColor)\n    window.umami.track('Logo: ' + displayLogo)\n    window.umami.track('ECL: ' + errorCorrectionLevel)\n    window.umami.track('Size: ' + size)\n    window.umami.track('Length: ' + Math.round((content.length * 0.1) * 10))\n    trigger_download('volt-qrcode.svg', b64)\n  }\n  const handleDownload_jpeg = async () => {\n    var canvas = conversion_canvas_ref.current\n    const ctx = canvas.getContext('2d')\n\n    const v = Canvg.fromString(ctx, qrcode)\n    v.resize(realSize, realSize)\n    await v.render()\n\n    var b64 = canvas.toDataURL('image/jpeg')\n\n    window.umami.track('E: jpeg')\n    window.umami.track('BG: ' + backgroundColor)\n    window.umami.track('FG: ' + foregroundColor)\n    window.umami.track('Logo: ' + displayLogo)\n    window.umami.track('ECL: ' + errorCorrectionLevel)\n    window.umami.track('Size: ' + size)\n    window.umami.track('Length: ' + Math.round((content.length * 0.1) * 10))\n    trigger_download('volt-qrcode.jpeg', b64)\n  }\n  const handleDownload_png = async () => {\n    var canvas = conversion_canvas_ref.current\n    const ctx = canvas.getContext('2d')\n\n    const v = Canvg.fromString(ctx, qrcode)\n    v.resize(realSize, realSize)\n    await v.render()\n\n    var b64 = canvas.toDataURL('image/png')\n\n    window.umami.track('E: png')\n    window.umami.track('BG: ' + backgroundColor)\n    window.umami.track('FG: ' + foregroundColor)\n    window.umami.track('Logo: ' + displayLogo)\n    window.umami.track('ECL: ' + errorCorrectionLevel)\n    window.umami.track('Size: ' + size)\n    window.umami.track('Length: ' + Math.round((content.length * 0.1) * 10))\n    trigger_download('volt-qrcode.png', b64)\n  }\n\n\n  const foreground_colors = ['purple', 'white', 'black'] // 'yellow', 'green', 'blue', 'red',\n  .map(color => ({\n    value: color,\n    title: getString(color)\n  }))\n\n  let background_colors = ['purple', 'white', 'black', 'transparent'] // 'yellow', 'green', 'red', 'blue'\n  if (foregroundColor !== 'white') {\n    background_colors = ['white', 'transparent']\n  } else if (foregroundColor === 'white') {\n    background_colors = ['purple', 'black', 'transparent'] // 'yellow', 'green', 'blue', 'red',\n  }\n  background_colors = background_colors.map(color => ({\n    value: color,\n    title: getString(color)\n  }))\n\n\n  const options = <>\n    <h2>\n      <Localized id=\"foreground_color_headline\" />\n    </h2>\n    <MultiButton\n      onChange={setForegroundColor}\n      ariaLabel={getString('foreground_color_headline')}\n      defaultValue={foregroundColor}\n      items={foreground_colors}\n    />\n    <br />\n\n    {\n      background_colors.length <= 1\n        ? null\n        : <>\n          <h2>\n            <Localized id=\"background_color_headline\" />\n          </h2>\n          <MultiButton\n            onChange={setBackgroundColor}\n            ariaLabel={getString('background_color_headline')}\n            defaultValue={backgroundColor}\n            items={background_colors}\n          />\n          <br />\n        </>\n    }\n\n    {\n      minDisplayLogo === true\n        ? <>\n            <h2>\n              <Localized id=\"display_logo_headline\" />\n            </h2>\n            <MultiButton\n              onChange={setDisplayLogo}\n              ariaLabel={getString('display_logo_headline')}\n              defaultValue={displayLogo}\n              items={[\n                {\n                  value: 'yes',\n                  title: getString('label_display_logo_yes')\n                },\n                {\n                  value: 'no',\n                  title: getString('label_display_logo_no')\n                },\n              ]}\n            />\n            <br />\n          </>\n        : null\n    }\n\n    {\n      real_minErrorCorrectionLevel === errorCorrectionLevels.length - 1\n        ? null\n        : <>\n            <h2>\n              <Localized id=\"error_correction_level_headline\" />\n            </h2>\n            <MultiButton\n              onChange={setErrorCorrectionLevel}\n              ariaLabel={getString('error_correction_level_headline')}\n              defaultValue={real_errorCorrectionLevel}\n              items={\n                errorCorrectionLevels\n                .slice(real_minErrorCorrectionLevel)\n                .map(value => ({\n                  value: value,\n                  title: getString('label_error_correction_level_'+value)\n                }))\n              }\n            />\n            <br />\n          </>\n    }\n\n    <h2>\n      <Localized id=\"margin_headline\" />\n    </h2>\n    <MultiButton\n      onChange={setMargin}\n      ariaLabel={getString('margin_headline')}\n      defaultValue={margin}\n      items={[\n        {\n          value: '1',\n          title: getString('label_margin_yes')\n        },\n        {\n          value: '0',\n          title: getString('label_margin_no')\n        },\n      ]}\n    />\n    <br />\n  </>\n\n  return <div className={classes.qrcodeWrapper}>\n    <h1><Localized id=\"website_title\" /></h1>\n    <br />\n\n    <p><Localized id=\"text_content_input_info\" /></p>\n    <textarea\n      className={classes.qrcodeContentInput}\n      placeholder={getString('text_content_input_placeholder')}\n      onChange={handleContentChange}\n      style={{marginTop: '0'}}\n      defaultValue={content}\n    ></textarea>\n\n    {\n      content.length > 0\n        ? options\n        : null\n    }\n\n    {\n      qrcode === null\n        ? null\n        : (\n          qrcodeWorks\n            ? <>\n              <br />\n\n              <span className={classes.qrCodeSvgWrapper} dangerouslySetInnerHTML={{ __html: qrcode }}></span>\n              <h2>\n                <Localized id=\"size_headline\" />\n              </h2>\n              <MultiButton\n                onChange={setSize}\n                ariaLabel={getString('size_headline')}\n                defaultValue={size}\n                items={[\n                  {\n                    value: '500',\n                    title: '500px'\n                  },\n                  {\n                    value: '1000',\n                    title: '1000px'\n                  },\n                  {\n                    value: '2000',\n                    title: '2000px'\n                  },\n                  {\n                    value: '4000',\n                    title: '4000px'\n                  },\n                ]}\n              />\n              <br />\n\n              <h2><Localized id=\"download_headline\" /></h2>\n              <button onClick={handleDownload_svg} className={'green ' + classes.downloadButton}><Localized id=\"svg_label\" /></button>\n              <button onClick={handleDownload_png} className={'green ' + classes.downloadButton}><Localized id=\"png_label\" /></button>\n              {\n                backgroundColor === 'transparent'\n                ? null\n                : <button onClick={handleDownload_jpeg} className={'green ' + classes.downloadButton}><Localized id=\"jpeg_label\" /></button>\n              }\n            </>\n            : <p><strong><Localized id=\"error_qrcode_not_usable\" /></strong></p>\n        )\n    }\n\n    <canvas style={{display:'none'}} ref={conversion_canvas_ref} />\n  </div>\n}\n\nexport default withLocalization(Generator)\n","import classes from './App.module.css'\n\nimport Localized from '../fluent/Localized.js'\nimport Generator from './Generator.js'\n\nfunction App() {\n  return (<>\n    <div className={classes.app}>\n      <Generator />\n    </div>\n    <footer>\n      <a href=\"mailto:thomas.rosen@volteuropa.org\"><Localized id=\"contact\" /></a>\n      &nbsp; • &nbsp;\n      <a href=\"https://github.com/voltbonn/qrcode.volt.link\" target=\"_blank\" rel=\"noreferrer\"><Localized id=\"source_code\" /></a>\n    </footer>\n  </>)\n}\n\nexport default App\n","import React, { useEffect, useState } from 'react'\n\n// https://projectfluent.org/play/\n\n// import { LocalizationProvider, Localized } from '@fluent/react' // '@fluent/react/compat'\nimport { ReactLocalization, LocalizationProvider } from '@fluent/react'\nimport { FluentBundle, FluentResource } from '@fluent/bundle'\nimport { negotiateLanguages } from '@fluent/langneg'\n\n\nexport const locales = {\n  de: 'Deutsch',\n  en: 'English',\n  // es: 'Español',\n  // pt: 'Português',\n  // fr: 'Français',\n  // it: 'Italiano',\n  // nl: 'Dutch',\n  // pl: 'Polska',\n  // ru: 'Pусский',\n}\n\nconst _supportedLocales_ = Object.keys(locales)\nconst _defaultLocale_ = 'en'\n\n\nasync function fetchMessages(locale) {\n  const path = await import('../locales/' + locale + '.ftl')\n\n  const response = await fetch(path.default)\n  const messages = await response.text()\n\n  return { [locale]: new FluentResource(messages) }\n}\n\nfunction getDefaultBundles() {\n  const bundle = new FluentBundle('')\n  bundle.addResource(new FluentResource(''))\n  return new ReactLocalization([bundle])\n}\n\nasync function createMessagesGenerator(currentLocales) {\n  const fetched = await Promise.all(\n    currentLocales.map(fetchMessages)\n  )\n  const messages = fetched.reduce(\n    (obj, cur) => Object.assign(obj, cur)\n  )\n\n  return function* generateBundles() {\n    for (const locale of currentLocales) {\n      const bundle = new FluentBundle(locale)\n      bundle.addResource(messages[locale])\n      yield bundle\n    }\n  }\n}\n\nexport function AppLocalizationProvider({ userLocales, children, onLocaleChange }) {\n  const [bundles, setBundles] = useState(getDefaultBundles())\n\n  useEffect(() => {\n    async function loadBundles() {\n      const currentLocales = negotiateLanguages(\n        userLocales,\n        _supportedLocales_,\n        { defaultLocale: _defaultLocale_ }\n      )\n\n      if (!!onLocaleChange) {\n        onLocaleChange(currentLocales)\n      }\n\n      const generateBundles = await createMessagesGenerator(currentLocales)\n\n      const new_bundles = new ReactLocalization(generateBundles())\n      new_bundles.userLocales = userLocales\n      new_bundles.defaultLocale = _defaultLocale_\n      new_bundles.supportedLocales = _supportedLocales_\n      setBundles(new_bundles)\n    }\n    loadBundles()\n  }, [userLocales, onLocaleChange])\n\n  if (!bundles) {\n    // Show a loader.\n    return <div>Loading texts…</div>\n  }\n\n  return <LocalizationProvider l10n={bundles}>\n    {children}\n  </LocalizationProvider>\n}\n\n","import React, { useState, useEffect, useCallback } from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './pages/App.js'\n// import reportWebVitals from './reportWebVitals'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport 'intl-pluralrules'\nimport { AppLocalizationProvider, locales } from './fluent/l10n.js'\n\nwindow.domains = {\n  // frontend: 'https://qrcode.volt.link',\n  frontend: 'http://localhost:3000/',\n  // backend: 'https://volt.link/',\n  backend: 'http://localhost:4000/',\n}\n\nfunction AppLanguageWrapper() {\n  // const [userLocales, setUserLocales] = useState(['de'])\n  const [userLocales, setUserLocales] = useState(navigator.languages)\n  const [currentLocale, setCurrentLocale] = useState(null)\n\n  useEffect(() => {\n    if (!!window.umami) {\n      let systemLocales = navigator.languages\n      if (!!systemLocales || Array.isArray(systemLocales)) {\n        for (let locale of systemLocales) {\n          locale = locale.toLowerCase() // Not really correct but the system locales sadly don't conform to the standard.\n\n          const language = locale.split('-')[0]\n          if (language !== locale) {\n            window.umami.track('L: ' + language) // Log just the language.\n          }\n          window.umami.track('L: ' + locale) // Log the full locale.\n        }\n      }\n    }\n  }, [])\n\n  const handleLanguageChange = useCallback(event => {\n    setUserLocales([event.target.dataset.locale])\n  }, [setUserLocales])\n\n  const handleCurrentLocalesChange = useCallback(currentLocales => {\n    setCurrentLocale(currentLocales.length > 0 ? currentLocales[0] : '')\n  }, [setCurrentLocale])\n\n  return <AppLocalizationProvider\n    key=\"AppLocalizationProvider\"\n    userLocales={userLocales}\n    onLocaleChange={handleCurrentLocalesChange}\n  >\n    <App locales={locales} currentLocale={currentLocale} onLanguageChange={handleLanguageChange} />\n  </AppLocalizationProvider>\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <AppLanguageWrapper />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"qrcodeWrapper\":\"Generator_qrcodeWrapper__1MUQn\",\"qrcodeContentInput\":\"Generator_qrcodeContentInput__1C_pN\",\"qrCodeSvgWrapper\":\"Generator_qrCodeSvgWrapper__1NpDK\",\"downloadButton\":\"Generator_downloadButton__FFIYG\"};"],"sourceRoot":""}